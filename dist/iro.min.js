/*!
 * iro.js v5.2.0
 * 2016-2020 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).iro=t()}(this,function(){"use strict";var m,t,i,r,f,k={},M=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function j(n,t){for(var i in t)n[i]=t[i];return n}function w(n){var t=n.parentNode;t&&t.removeChild(n)}function d(n,t,i){var r,e=arguments,o={};for(r in t)"key"!==r&&"ref"!==r&&(o[r]=t[r]);if(3<arguments.length)for(i=[i],r=3;r<arguments.length;r++)i.push(e[r]);if(null!=i&&(o.children=i),"function"==typeof n&&null!=n.defaultProps)for(r in n.defaultProps)void 0===o[r]&&(o[r]=n.defaultProps[r]);return x(n,o,t&&t.key,t&&t.ref,null)}function x(n,t,i,r,e){var o={type:n,props:t,key:i,ref:r,n:null,t:null,i:0,e:null,o:void 0,u:null,constructor:void 0,c:e};return null==e&&(o.c=o),m.vnode&&m.vnode(o),o}function O(n){return n.children}function I(n,t){this.props=n,this.context=t}function A(n,t){if(null==t)return n.t?A(n.t,n.t.n.indexOf(n)+1):null;for(var i;t<n.n.length;t++)if(null!=(i=n.n[t])&&null!=i.e)return i.e;return"function"==typeof n.type?A(n):null}function o(n){(!n.o&&(n.o=!0)&&t.push(n)&&!u.f++||r!==m.debounceRendering)&&((r=m.debounceRendering)||i)(u)}function u(){for(var n;u.f=t.length;)n=t.sort(function(n,t){return n.c.i-t.c.i}),t=[],n.some(function(n){var t,i,r,e,o,u,l;n.o&&(u=(o=(t=n).c).e,(l=t.p)&&(i=[],e=N(l,o,(r=j({},o)).c=r,t.w,void 0!==l.ownerSVGElement,null,i,null==u?A(o):u),v(i,o),e!=u&&function n(t){var i,r;if(null!=(t=t.t)&&null!=t.u){for(t.e=t.u.base=null,i=0;i<t.n.length;i++)if(null!=(r=t.n[i])&&null!=r.e){t.e=t.u.base=r.e;break}return n(t)}}(o)))})}function S(n,t,i,r,e,o,u,l,s,c){var a,f,h,v,d,g,p,b=r&&r.n||M,y=b.length;for(s==k&&(s=null!=u?u[0]:y?A(r,0):null),i.n=[],a=0;a<t.length;a++)if(null!=(v=i.n[a]=null==(v=t[a])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?x(null,v,null,null,v):Array.isArray(v)?x(O,{children:v},null,null,null):null!=v.e||null!=v.u?x(v.type,v.props,v.key,null,v.c):v)){if(v.t=i,v.i=i.i+1,null===(h=b[a])||h&&v.key==h.key&&v.type===h.type)b[a]=void 0;else for(f=0;f<y;f++){if((h=b[f])&&v.key==h.key&&v.type===h.type){b[f]=void 0;break}h=null}d=N(n,v,h=h||k,e,o,u,l,s,c),(f=v.ref)&&h.ref!=f&&(p=p||[],h.ref&&p.push(h.ref,null,v),p.push(f,v.u||d,v)),null!=d?(null==g&&(g=d),s=E(n,v,h,b,u,d,s),c||"option"!=i.type?"function"==typeof i.type&&(i.o=s):n.value=""):s&&h.e==s&&s.parentNode!=n&&(s=A(h))}if(i.e=g,null!=u&&"function"!=typeof i.type)for(a=u.length;a--;)null!=u[a]&&w(u[a]);for(a=y;a--;)null!=b[a]&&function n(t,i,r){var e,o,u;if(m.unmount&&m.unmount(t),(e=t.ref)&&(e.current&&e.current!==t.e||P(e,null,i)),r||"function"==typeof t.type||(r=null!=(o=t.e)),t.e=t.o=void 0,null!=(e=t.u)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(n){m.e(n,i)}e.base=e.p=null}if(e=t.n)for(u=0;u<e.length;u++)e[u]&&n(e[u],i,r);null!=o&&w(o)}(b[a],b[a]);if(p)for(a=0;a<p.length;a++)P(p[a],p[++a],p[++a])}function E(n,t,i,r,e,o,u){var l,s,c;if(void 0!==t.o)l=t.o,t.o=void 0;else if(e==i||o!=u||null==o.parentNode)n:if(null==u||u.parentNode!==n)n.appendChild(o),l=null;else{for(s=u,c=0;(s=s.nextSibling)&&c<r.length;c+=2)if(s==o)break n;n.insertBefore(o,u),l=u}return void 0!==l?l:o.nextSibling}function a(n,t,i){"-"===t[0]?n.setProperty(t,i):n[t]="number"==typeof i&&!1===e.test(t)?i+"px":null==i?"":i}function _(n,t,i,r,e){var o,u,l,s,c;if(e?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(o=n.style,"string"==typeof i)o.cssText=i;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(s in r)i&&s in i||a(o,s,"");if(i)for(c in i)r&&i[c]===r[c]||a(o,c,i[c])}else"o"===t[0]&&"n"===t[1]?(u=t!==(t=t.replace(/Capture$/,"")),t=((l=t.toLowerCase())in n?l:t).slice(2),i?(r||n.addEventListener(t,h,u),(n.l||(n.l={}))[t]=i):n.removeEventListener(t,h,u)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&!e&&t in n?n[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?n.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i&&!/^ar/.test(t)?n.removeAttribute(t):n.setAttribute(t,i))}function h(n){this.l[n.type](m.event?m.event(n):n)}function N(n,t,i,r,e,o,u,l,s){var c,a,f,h,v,d,g,p,b,y,w,x=t.type;if(void 0!==t.constructor)return null;(c=m.i)&&c(t);try{n:if("function"==typeof x){if(p=t.props,b=(c=x.contextType)&&r[c.u],y=c?b?b.props.value:c.t:r,i.u?g=(a=t.u=i.u).t=a.m:("prototype"in x&&x.prototype.render?t.u=a=new x(p,y):(t.u=a=new I(p,y),a.constructor=x,a.render=R),b&&b.sub(a),a.props=p,a.state||(a.state={}),a.context=y,a.w=r,f=a.o=!0,a.k=[]),null==a.M&&(a.M=a.state),null!=x.getDerivedStateFromProps&&(a.M==a.state&&(a.M=j({},a.M)),j(a.M,x.getDerivedStateFromProps(p,a.M))),h=a.props,v=a.state,f)null==x.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.k.push(a.componentDidMount);else{if(null==x.getDerivedStateFromProps&&p!==h&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(p,y),!a.e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(p,a.M,y)||t.c===i.c){a.props=p,a.state=a.M,t.c!==i.c&&(a.o=!1),(a.c=t).e=i.e,t.n=i.n,a.k.length&&u.push(a),function n(t,i,r){for(var e,o=0;o<t.n.length;o++)(e=t.n[o])&&(e.t=t,e.e&&("function"==typeof e.type&&1<e.n.length&&n(e,i,r),i=E(r,e,e,t.n,null,e.e,i),"function"==typeof t.type&&(t.o=i)))}(t,l,n);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(p,a.M,y),null!=a.componentDidUpdate&&a.k.push(function(){a.componentDidUpdate(h,v,d)})}a.context=y,a.props=p,a.state=a.M,(c=m.f)&&c(t),a.o=!1,a.c=t,a.p=n,c=a.render(a.props,a.state,a.context),a.state=a.M,null!=a.getChildContext&&(r=j(j({},r),a.getChildContext())),f||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(h,v)),w=null!=c&&c.type==O&&null==c.key?c.props.children:c,S(n,Array.isArray(w)?w:[w],t,i,r,e,o,u,l,s),a.base=t.e,a.k.length&&u.push(a),g&&(a.m=a.t=null),a.e=!1}else null==o&&t.c===i.c?(t.n=i.n,t.e=i.e):t.e=function(n,t,i,r,e,o,u,l){var s,c,a,f,h,v=i.props,d=t.props;if(e="svg"===t.type||e,null!=o)for(s=0;s<o.length;s++)if(null!=(c=o[s])&&((null===t.type?3===c.nodeType:c.localName===t.type)||n==c)){n=c,o[s]=null;break}if(null==n){if(null===t.type)return document.createTextNode(d);n=e?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,d.is&&{is:d.is}),o=null,l=!1}if(null===t.type)v!==d&&n.data!==d&&(n.data=d);else{if(null!=o&&(o=M.slice.call(n.childNodes)),a=(v=i.props||k).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!l){if(null!=o)for(v={},h=0;h<n.attributes.length;h++)v[n.attributes[h].name]=n.attributes[h].value;(f||a)&&(f&&a&&f.j==a.j||(n.innerHTML=f&&f.j||""))}(function(n,t,i,r,e){var o;for(o in i)"children"===o||"key"===o||o in t||_(n,o,null,i[o],r);for(o in t)e&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||i[o]===t[o]||_(n,o,t[o],i[o],r)})(n,d,v,e,l),f?t.n=[]:(s=t.props.children,S(n,Array.isArray(s)?s:[s],t,i,r,"foreignObject"!==t.type&&e,o,u,k,l)),l||("value"in d&&void 0!==(s=d.value)&&s!==n.value&&_(n,"value",s,v.value,!1),"checked"in d&&void 0!==(s=d.checked)&&s!==n.checked&&_(n,"checked",s,v.checked,!1))}return n}(i.e,t,i,r,e,o,u,s);(c=m.diffed)&&c(t)}catch(n){t.c=null,m.e(n,t,i)}return t.e}function v(n,t){m.u&&m.u(t,n),n.some(function(t){try{n=t.k,t.k=[],n.some(function(n){n.call(t)})}catch(n){m.e(n,t.c)}})}function P(n,t,i){try{"function"==typeof n?n(t):n.current=t}catch(n){m.e(n,i)}}function R(n,t,i){return this.constructor(n,i)}m={e:function(t,n){for(var i,r;n=n.t;)if((i=n.u)&&!i.t)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(r=!0,i.setState(i.constructor.getDerivedStateFromError(t))),null!=i.componentDidCatch&&(r=!0,i.componentDidCatch(t)),r)return o(i.m=i)}catch(n){t=n}throw t}},I.prototype.setState=function(n,t){var i=null!=this.M&&this.M!==this.state?this.M:this.M=j({},this.state);"function"==typeof n&&(n=n(i,this.props)),n&&j(i,n),null!=n&&this.c&&(t&&this.k.push(t),o(this))},I.prototype.forceUpdate=function(n){this.c&&(this.e=!0,n&&this.k.push(n),o(this))},I.prototype.render=O,t=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u.f=0,f=k;var n="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",l="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",c=new RegExp("rgb"+l),g=new RegExp("rgba"+s),p=new RegExp("hsl"+l),b=new RegExp("hsla"+s),y="^(?:#?|0x?)",z="([0-9a-fA-F]{1})",T="([0-9a-fA-F]{2})",$=new RegExp(y+z+z+z+"$"),H=new RegExp(y+z+z+z+z+"$"),W=new RegExp(y+T+T+T+"$"),C=new RegExp(y+T+T+T+T+"$"),D=Math.log,F=Math.round,G=Math.floor;function L(n,t,i){return Math.min(Math.max(n,t),i)}function B(n,t){var i=-1<n.indexOf("%"),r=parseFloat(n);return i?t/100*r:r}function U(n){return parseInt(n,16)}function q(n){return n.toString(16).padStart(2,"0")}var J=function(n,t){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=t,this.initialValue=Object.assign({},this.$)},K={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};J.prototype.set=function(n){if("string"==typeof n)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(n)?this.hexString=n:/^rgba?/.test(n)?this.rgbString=n:/^hsla?/.test(n)&&(this.hslString=n);else{if("object"!=typeof n)throw new Error("Invalid color value");n instanceof J?this.hsv=n.hsv:"object"==typeof n&&"r"in n&&"g"in n&&"b"in n?this.rgb=n:"object"==typeof n&&"h"in n&&"s"in n&&"v"in n?this.hsv=n:"object"==typeof n&&"h"in n&&"s"in n&&"l"in n&&(this.hsl=n)}},J.prototype.setChannel=function(n,t,i){var r;this[n]=Object.assign({},this[n],((r={})[t]=i,r))},J.prototype.reset=function(){this.hsva=this.initialValue},J.prototype.clone=function(){return new J(this)},J.prototype.unbind=function(){this.onChange=void 0},J.hsvToRgb=function(n){var t=n.h/60,i=n.s/100,r=n.v/100,e=G(t),o=t-e,u=r*(1-i),l=r*(1-o*i),s=r*(1-(1-o)*i),c=e%6,a=[s,r,r,l,u,u][c],f=[u,u,s,r,r,l][c];return{r:L(255*[r,l,u,u,s,r][c],0,255),g:L(255*a,0,255),b:L(255*f,0,255)}},J.rgbToHsv=function(n){var t=n.r/255,i=n.g/255,r=n.b/255,e=Math.max(t,i,r),o=Math.min(t,i,r),u=e-o,l=0,s=e,c=0===e?0:u/e;switch(e){case o:l=0;break;case t:l=(i-r)/u+(i<r?6:0);break;case i:l=(r-t)/u+2;break;case r:l=(t-i)/u+4}return{h:60*l%360,s:L(100*c,0,100),v:L(100*s,0,100)}},J.hsvToHsl=function(n){var t=n.s/100,i=n.v/100,r=(2-t)*i,e=r<=1?r:2-r,o=e<1e-9?0:t*i/e;return{h:n.h,s:L(100*o,0,100),l:L(50*r,0,100)}},J.hslToHsv=function(n){var t=2*n.l,i=n.s*(t<=100?t:200-t)/100,r=t+i<1e-9?0:2*i/(t+i);return{h:n.h,s:L(100*r,0,100),v:L((t+i)/2,0,100)}},J.kelvinToRgb=function(n){var t,i,r=n/100,e=r<66?(t=255,i=-155.25485562709179-.44596950469579133*(i=r-2)+104.49216199393888*D(i),r<20?0:.8274096064007395*(e=r-10)-254.76935184120902+115.67994401066147*D(e)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*D(t),i=325.4494125711974+.07943456536662342*(i=r-50)-28.0852963507957*D(i),255);return{r:L(G(t),0,255),g:L(G(i),0,255),b:L(G(e),0,255)}},J.rgbToKelvin=function(n){for(var t,i=n.r,r=n.b,e=1e3,o=4e4;.4<o-e;){t=.5*(o+e);var u=J.kelvinToRgb(t);u.b/u.r>=r/i?o=t:e=t}return t},K.hsv.get=function(){var n=this.$;return{h:n.h,s:n.s,v:n.v}},K.hsv.set=function(n){var t=this.$;if(n=Object.assign({},t,n),this.onChange){var i={h:!1,v:!1,s:!1,a:!1};for(var r in t)i[r]=n[r]!=t[r];this.$=n,(i.h||i.s||i.v||i.a)&&this.onChange(this,i)}else this.$=n},K.hsva.get=function(){return Object.assign({},this.$)},K.hsva.set=function(n){this.hsv=n},K.hue.get=function(){return this.$.h},K.hue.set=function(n){this.hsv={h:n}},K.saturation.get=function(){return this.$.s},K.saturation.set=function(n){this.hsv={s:n}},K.value.get=function(){return this.$.v},K.value.set=function(n){this.hsv={v:n}},K.alpha.get=function(){return this.$.a},K.alpha.set=function(n){this.hsv=Object.assign({},this.hsv,{a:n})},K.kelvin.get=function(){return J.rgbToKelvin(this.rgb)},K.kelvin.set=function(n){this.rgb=J.kelvinToRgb(n)},K.red.get=function(){return this.rgb.r},K.red.set=function(n){this.rgb=Object.assign({},this.rgb,{r:n})},K.green.get=function(){return this.rgb.g},K.green.set=function(n){this.rgb=Object.assign({},this.rgb,{g:n})},K.blue.get=function(){return this.rgb.b},K.blue.set=function(n){this.rgb=Object.assign({},this.rgb,{b:n})},K.rgb.get=function(){var n=J.hsvToRgb(this.$),t=n.r,i=n.g,r=n.b;return{r:F(t),g:F(i),b:F(r)}},K.rgb.set=function(n){this.hsv=Object.assign({},J.rgbToHsv(n),{a:void 0===n.a?1:n.a})},K.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},K.rgba.set=function(n){this.rgb=n},K.hsl.get=function(){var n=J.hsvToHsl(this.$),t=n.h,i=n.s,r=n.l;return{h:F(t),s:F(i),l:F(r)}},K.hsl.set=function(n){this.hsv=Object.assign({},J.hslToHsv(n),{a:void 0===n.a?1:n.a})},K.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},K.hsla.set=function(n){this.hsl=n},K.rgbString.get=function(){var n=this.rgb;return"rgb("+n.r+", "+n.g+", "+n.b+")"},K.rgbString.set=function(n){var t,i,r,e,o=1;if((t=c.exec(n))?(i=B(t[1],255),r=B(t[2],255),e=B(t[3],255)):(t=g.exec(n))&&(i=B(t[1],255),r=B(t[2],255),e=B(t[3],255),o=B(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:i,g:r,b:e,a:o}},K.rgbaString.get=function(){var n=this.rgba;return"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")"},K.rgbaString.set=function(n){this.rgbString=n},K.hexString.get=function(){var n=this.rgb;return"#"+q(n.r)+q(n.g)+q(n.b)},K.hexString.set=function(n){var t,i,r,e,o=255;if((t=$.exec(n))?(i=17*U(t[1]),r=17*U(t[2]),e=17*U(t[3])):(t=H.exec(n))?(i=17*U(t[1]),r=17*U(t[2]),e=17*U(t[3]),o=17*U(t[4])):(t=W.exec(n))?(i=U(t[1]),r=U(t[2]),e=U(t[3])):(t=C.exec(n))&&(i=U(t[1]),r=U(t[2]),e=U(t[3]),o=U(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:i,g:r,b:e,a:o/255}},K.hex8String.get=function(){var n=this.rgba;return"#"+q(n.r)+q(n.g)+q(n.b)+q(G(255*n.a))},K.hex8String.set=function(n){this.hexString=n},K.hslString.get=function(){var n=this.hsl;return"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"},K.hslString.set=function(n){var t,i,r,e,o=1;if((t=p.exec(n))?(i=B(t[1],360),r=B(t[2],100),e=B(t[3],100)):(t=b.exec(n))&&(i=B(t[1],360),r=B(t[2],100),e=B(t[3],100),o=B(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:i,s:r,l:e,a:o}},K.hslaString.get=function(){var n=this.hsla;return"hsl("+n.h+", "+n.s+"%, "+n.l+"%, "+n.a+")"},K.hslaString.set=function(n){this.hslString=n},Object.defineProperties(J.prototype,K);function Q(n){var t=n.width,i=n.sliderSize,r=n.borderWidth,e=n.handleRadius,o=n.padding,u=n.sliderShape,l="horizontal"===n.layoutDirection,i=i||2*o+2*e+2*r;return"circle"===u?{handleStart:n.padding+n.handleRadius,handleRange:t-2*o-2*e-2*r,width:t,height:t,cx:t/2,cy:t/2,radius:t/2-r/2}:{handleStart:i/2,handleRange:t-i,radius:i/2,x:0,y:0,width:l?i:t,height:l?t:i}}function V(n,t){var i=Q(n),r=i.width,e=i.height,o=i.handleRange,u=i.handleStart,l="horizontal"===n.layoutDirection,s=l?r/2:e/2,c=u+function(n,t){var i=t.hsva,r=t.rgb;switch(n.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*i.a;case"kelvin":var e=n.minTemperature,o=n.maxTemperature-e,u=(t.kelvin-e)/o*100;return Math.max(0,Math.min(u,100));case"hue":return i.h/=3.6;case"saturation":return i.s;case"value":default:return i.v}}(n,t)/100*o;return l&&(c=-1*c+o+2*u),{x:l?s:c,y:l?c:s}}function X(n){var t=n.width/2;return{width:n.width,radius:t-n.borderWidth,cx:t,cy:t}}function Y(n,t,i){var r=n.wheelAngle,e=n.wheelDirection;return((t=!i&&"clockwise"===e||i&&"anticlockwise"===e?(i?180:360)-(r-t):r+t)%360+360)%360}function Z(n,t,i){var r=X(n),e=r.cx,o=r.cy,u=n.width/2-n.padding-n.handleRadius-n.borderWidth;t=e-t,i=o-i;var l=Y(n,Math.atan2(-i,-t)*(180/Math.PI)),s=Math.min(Math.sqrt(t*t+i*i),u);return{h:Math.round(l),s:Math.round(100/u*s)}}function nn(n){var t=n.width;return{width:t,height:t,radius:n.padding+n.handleRadius}}function tn(n,t,i){var r=nn(n),e=r.width,o=r.height,u=r.radius,l=(t-u)/(e-2*u)*100,s=(i-u)/(o-2*u)*100;return{s:Math.max(0,Math.min(l,100)),v:Math.max(0,Math.min(100-s,100))}}var rn=document.getElementsByTagName("base");function en(n){var t=window.navigator.userAgent,i=/^((?!chrome|android).)*safari/i.test(t),r=/iPhone|iPod|iPad/i.test(t),e=window.location;return(i||r)&&0<rn.length?e.protocol+"//"+e.host+e.pathname+e.search+n:n}function on(n,t,i,r){for(var e=0;e<r.length;e++){var o=r[e].x-t,u=r[e].y-i;if(Math.sqrt(o*o+u*u)<n.handleRadius)return e}return null}var un=["mousemove","touchmove","mouseup","touchend"],ln=function(t){function n(n){t.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(n.__proto__=t),((n.prototype=Object.create(t&&t.prototype)).constructor=n).prototype.render=function(n){var t=this.handleEvent.bind(this),i={onMouseDown:t};/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)?i.onTouchStart=t:i.ontouchstart=t;var r="horizontal"===n.layoutDirection,e=null===n.margin?n.sliderMargin:n.margin,o={overflow:"visible",display:r?"inline-block":"block"};return 0<n.index&&(o[r?"marginLeft":"marginTop"]=e),d(O,null,n.children(this.uid,i,o))},n.prototype.handleEvent=function(n){var t=this;console.log("handleEvent",n);var i=this.props.onInput,r=this.base.getBoundingClientRect();n.preventDefault();var e=n.touches?n.changedTouches[0]:n,o=e.clientX-r.left,u=e.clientY-r.top;switch(n.type){case"mousedown":case"touchstart":console.log("EventType.TouchStart"),un.forEach(function(n){document.addEventListener(n,t,{passive:!1})}),i(o,u,0);break;case"mousemove":case"touchmove":i(o,u,1);break;case"mouseup":case"touchend":i(o,u,2),un.forEach(function(n){document.removeEventListener(n,t)})}},n}(I);function sn(n){var t=n.r,i=n.url;return d("svg",{className:"IroHandle IroHandle--"+n.index+" "+(n.isActive?"IroHandle--isActive":""),x:n.x,y:n.y,style:{overflow:"visible"}},i&&d("use",Object.assign({xlinkHref:en(i)},n.props)),!i&&d("circle",{r:t,fill:"none","stroke-width":2,stroke:"#000"}),!i&&d("circle",{r:t-2,fill:n.fill,"stroke-width":2,stroke:"#fff"}))}function cn(e){var n=e.activeIndex,o=void 0!==n&&n<e.colors.length?e.colors[n]:e.color,t=Q(e),u=t.width,l=t.height,s=t.radius,c=V(e,o),a=function(n,t){var i=t.hsv,r=t.rgb;switch(n.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var e=[],o=n.minTemperature,u=n.maxTemperature,l=u-o,s=o,c=0;s<u;s+=l/8,c+=1){var a=J.kelvinToRgb(s),f=a.r,h=a.g,v=a.b;e.push([12.5*c,"rgb("+f+","+h+","+v+")"])}return e;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var d=J.hsvToHsl({h:i.h,s:0,v:i.v}),g=J.hsvToHsl({h:i.h,s:100,v:i.v});return[[0,"hsl("+d.h+","+d.s+"%,"+d.l+"%)"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]];case"value":default:var p=J.hsvToHsl({h:i.h,s:i.s,v:100});return[[0,"#000"],[100,"hsl("+p.h+","+p.s+"%,"+p.l+"%)"]]}}(e,o),f="alpha"===e.sliderType;return d(ln,Object.assign({},e,{onInput:function(n,t,i){var r=function(n,t,i){var r=Q(n),e=r.handleRange,o=r.handleStart,u="horizontal"===n.layoutDirection?-1*i+e+o:t-o;u=Math.max(Math.min(u,e),0);var l=Math.round(100/e*u);switch(n.sliderType){case"kelvin":var s=n.minTemperature;return s+l/100*(n.maxTemperature-s);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}(e,n,t);e.parent.inputActive=!0,o[e.sliderType]=r,e.onInput(i)}}),function(n,t,i){return d("svg",Object.assign({},t,{className:"IroSlider",width:u,height:l,style:i}),d("defs",null,d("linearGradient",Object.assign({id:"g"+n},{x1:"0%",y1:(r="horizontal"===e.layoutDirection)?"100%":"0%",x2:r?"0%":"100%",y2:"0%"}),a.map(function(n){return d("stop",{offset:n[0]+"%","stop-color":n[1]})})),f&&d("pattern",{id:"b"+n,width:"8",height:"8",patternUnits:"userSpaceOnUse"},d("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#fff"}),d("rect",{x:"0",y:"0",width:"4",height:"4",fill:"#ccc"}),d("rect",{x:"4",y:"4",width:"4",height:"4",fill:"#ccc"})),f&&d("pattern",{id:"f"+n,width:"100%",height:"100%"},d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+en("#b"+n)+")"}),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+en("#g"+n)+")"}))),d("rect",{className:"IroSliderBg",rx:s,ry:s,x:e.borderWidth/2,y:e.borderWidth/2,width:u-e.borderWidth,height:l-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+en((f?"#f":"#g")+n)+")"}),d(sn,{isActive:!0,index:o.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:c.x,y:c.y}));var r})}function an(c){var n=nn(c),r=n.width,e=n.height,o=n.radius,u=c.colors,l=c.parent,t=c.activeIndex,s=void 0!==t&&t<c.colors.length?c.colors[t]:c.color,a=[[[0,"#fff"],[100,"hsl("+s.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]],f=u.map(function(n){return t=n,i=nn(c),r=i.width,e=i.height,o=i.radius,u=t.hsv,l=r-2*o,s=e-2*o,{x:o+u.s/100*l,y:o+(s-u.v/100*s)};var t,i,r,e,o,u,l,s});return d(ln,Object.assign({},c,{onInput:function(n,t,i){var r;0===i?null!==(r=on(c,n,t,f))?l.setActiveColor(r):(l.inputActive=!0,s.hsv=tn(c,n,t),c.onInput(i)):1===i&&(l.inputActive=!0,s.hsv=tn(c,n,t)),c.onInput(i)}}),function(n,t,i){return d("svg",Object.assign({},t,{className:"IroBox",width:r,height:e,style:i}),d("defs",null,d("linearGradient",{id:"s"+n,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},a[0].map(function(n){return d("stop",{offset:n[0]+"%","stop-color":n[1]})})),d("linearGradient",{id:"l"+n,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},a[1].map(function(n){return d("stop",{offset:n[0]+"%","stop-color":n[1]})})),d("pattern",{id:"f"+n,width:"100%",height:"100%"},d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+en("#s"+n)+")"}),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+en("#l"+n)+")"}))),d("rect",{rx:o,ry:o,x:c.borderWidth/2,y:c.borderWidth/2,width:r-c.borderWidth,height:e-c.borderWidth,"stroke-width":c.borderWidth,stroke:c.borderColor,fill:"url("+en("#f"+n)+")"}),u.filter(function(n){return n!==s}).map(function(n){return d(sn,{isActive:!1,index:n.index,fill:n.hslString,r:c.handleRadius,url:c.handleSvg,props:c.handleProps,x:f[n.index].x,y:f[n.index].y})}),d(sn,{isActive:!0,index:s.index,fill:s.hslString,r:c.handleRadius,url:c.handleSvg,props:c.handleProps,x:f[s.index].x,y:f[s.index].y}))})}sn.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},cn.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var fn=Array.apply(null,{length:360}).map(function(n,t){return t});function hn(a){var n=X(a),r=n.width,l=n.radius,s=n.cx,c=n.cy,e=a.colors,o=a.borderWidth,u=a.parent,f=a.color,h=f.hsv,v=e.map(function(n){return t=a,i=n.hsv,r=X(t),e=r.cx,o=r.cy,u=t.width/2-t.padding-t.handleRadius-t.borderWidth,l=(180+Y(t,i.h,!0))*(Math.PI/180),s=i.s/100*u,c="clockwise"===t.wheelDirection?-1:1,{x:e+s*Math.cos(l)*c,y:o+s*Math.sin(l)*c};var t,i,r,e,o,u,l,s,c});return d(ln,Object.assign({},a,{onInput:function(n,t,i){var r;console.log("handleInput:",i),0===i?null!==(r=on(a,n,t,v))?u.setActiveColor(r):(u.inputActive=!0,f.hsv=Z(a,n,t),a.onInput(i)):1===i&&(u.inputActive=!0,f.hsv=Z(a,n,t)),a.onInput(i)}}),function(n,t,i){return d("svg",Object.assign({},t,{className:"IroWheel",width:r,height:r,style:i}),d("defs",null,d("radialGradient",{id:n},d("stop",{offset:"0%","stop-color":"#fff"}),d("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),d("g",{className:"IroWheelHue","stroke-width":l,fill:"none"},fn.map(function(n){return d("path",{key:n,d:(t=s,i=c,r=l/2,u=(o=(e=n)+1.5)-e<=180?0:1,e*=Math.PI/180,o*=Math.PI/180,"M "+(t+r*Math.cos(o))+" "+(i+r*Math.sin(o))+" A "+r+" "+r+" 0 "+u+" 0 "+(t+r*Math.cos(e))+" "+(i+r*Math.sin(e))),stroke:"hsl("+Y(a,n)+", 100%, 50%)"});var t,i,r,e,o,u})),d("circle",{className:"IroWheelSaturation",cx:s,cy:c,r:l,fill:"url("+en("#"+n)+")"}),a.wheelLightness&&d("circle",{className:"IroWheelLightness",cx:s,cy:c,r:l,fill:"#000",opacity:1-h.v/100}),d("circle",{className:"IroWheelBorder",cx:s,cy:c,r:l,fill:"none",stroke:a.borderColor,"stroke-width":o}),e.filter(function(n){return n!==f}).map(function(n){return d(sn,{isActive:!1,index:n.index,fill:n.hslString,r:a.handleRadius,url:a.handleSvg,props:a.handleProps,x:v[n.index].x,y:v[n.index].y})}),d(sn,{isActive:!0,index:f.index,fill:f.hslString,r:a.handleRadius,url:a.handleSvg,props:a.handleProps,x:v[f.index].x,y:v[f.index].y}))})}var vn=function(i){function n(n){var t=this;i.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id,(0<n.colors.length?n.colors:[n.color]).forEach(function(n){return t.addColor(n)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return i&&(n.__proto__=i),((n.prototype=Object.create(i&&i.prototype)).constructor=n).prototype.addColor=function(n,t){void 0===t&&(t=this.colors.length);var i=new J(n,this.onColorChange.bind(this));this.colors.splice(t,0,i),this.colors.forEach(function(n,t){return n.index=t}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",i)},n.prototype.removeColor=function(n){var t=this.colors.splice(n,1)[0];t.unbind(),this.colors.forEach(function(n,t){return n.index=t}),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},n.prototype.setActiveColor=function(n){this.color=this.colors[n],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},n.prototype.setColors=function(n){var t=this;this.colors.forEach(function(n){return n.unbind()}),this.colors=[],n.forEach(function(n){return t.addColor(n)}),this.setActiveColor(0),this.emit("color:setAll",this.colors)},n.prototype.on=function(n,t){var i=this,r=this.events;(Array.isArray(n)?n:[n]).forEach(function(n){(r[n]||(r[n]=[])).push(t),i.deferredEvents[n]&&(i.deferredEvents[n].forEach(function(n){t.apply(null,n)}),i.deferredEvents[n]=[])})},n.prototype.off=function(n,i){var r=this;(Array.isArray(n)?n:[n]).forEach(function(n){var t=r.events[n];t&&t.splice(t.indexOf(i),1)})},n.prototype.emit=function(n){for(var t=this,i=[],r=arguments.length-1;0<r--;)i[r]=arguments[r+1];var e=this.activeEvents;!!e.hasOwnProperty(n)&&e[n]||(e[n]=!0,(this.events[n]||[]).forEach(function(n){return n.apply(t,i)}),e[n]=!1)},n.prototype.deferredEmit=function(n){for(var t,i=[],r=arguments.length-1;0<r--;)i[r]=arguments[r+1];var e=this.deferredEvents;(t=this).emit.apply(t,[n].concat(i)),(e[n]||(e[n]=[])).push(i)},n.prototype.setOptions=function(n){this.setState(Object.assign({},this.state,n))},n.prototype.resize=function(n){this.setOptions({width:n})},n.prototype.reset=function(){this.colors.forEach(function(n){return n.reset()}),this.setState({colors:this.colors})},n.prototype.onMount=function(n){this.el=n,this.deferredEmit("mount",this)},n.prototype.onColorChange=function(n,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",n,t)),this.emit("color:change",n,t)},n.prototype.emitInputEvent=function(n){console.log("emitInputEvent",n,event),0===n?this.emit("input:start",this.color):1===n?this.emit("input:move",this.color):2===n&&this.emit("input:end",this.color)},n.prototype.render=function(n,e){var o=this,t=e.layout;return Array.isArray(t)||(t=[{component:hn},{component:cn}],e.transparency&&t.push({component:cn,options:{sliderType:"alpha"}})),d("div",{class:"IroColorPicker",id:e.id,style:{display:e.display}},t.map(function(n,t){var i=n.component,r=n.options;return d(i,Object.assign({},e,r,{ref:void 0,onInput:o.emitInputEvent.bind(o),parent:o,index:t}))}))},n}(I);vn.defaultProps=Object.assign({},{width:300,height:300,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},color:"#fff",colors:[],borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",layoutDirection:"vertical",sliderSize:null,sliderMargin:12,padding:6},{colors:[],display:"block",id:null,layout:"default",margin:null});var dn,gn,pn,bn,yn=(wn.prototype=(dn=vn).prototype,Object.assign(wn,dn),wn.O=dn,wn);function wn(t,n){var i,r,e,o,u,l,s,c=document.createElement("div");function a(){var n=t instanceof Element?t:document.querySelector(t);n.appendChild(i.base),i.onMount(n)}return r=d(dn,Object.assign({},{ref:function(n){return i=n}},n)),e=c,m.t&&m.t(r,e),l=(u=o===f)?null:o&&o.n||e.n,r=d(O,null,[r]),s=[],N(e,(!u&&o||e).n=r,l||k,k,void 0!==e.ownerSVGElement,o&&!u?[o]:!l&&e.childNodes.length?M.slice.call(e.childNodes):null,s,o||k,u),v(s,r),"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a),i}return(pn=gn=gn||{}).version="5.2.0",pn.Color=J,pn.ColorPicker=yn,(bn=pn.ui||(pn.ui={})).h=d,bn.ComponentBase=ln,bn.Handle=sn,bn.Slider=cn,bn.Wheel=hn,bn.Box=an,gn});
